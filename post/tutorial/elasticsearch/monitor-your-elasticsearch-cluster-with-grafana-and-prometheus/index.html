<!doctype html><html class=no-js lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#ffffff"><title>Monitor your Elasitcsearch Cluster with Grafana and Prometheus - We Are No Dev</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content="Monitoring Elasticsearch Cluster is necessary and important for both testing and production. Kibana and Grafana are awesome tools for monitoring and visualization. In this post, I'll introduce how to monitor Elasticsearch Cluster by using Grafana with datasource is Prometheus."><meta property="og:title" content="Monitor your Elasitcsearch Cluster with Grafana and Prometheus"><meta property="og:description" content="Monitoring Elasticsearch Cluster is necessary and important for both testing and production. Kibana and Grafana are awesome tools for monitoring and visualization. In this post, I'll introduce how to monitor Elasticsearch Cluster by using Grafana with datasource is Prometheus."><meta property="og:type" content="article"><meta property="og:url" content="/post/tutorial/elasticsearch/monitor-your-elasticsearch-cluster-with-grafana-and-prometheus/"><meta property="article:published_time" content="2020-09-09T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-09T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Monitor your Elasitcsearch Cluster with Grafana and Prometheus"><meta name=twitter:description content="Monitoring Elasticsearch Cluster is necessary and important for both testing and production. Kibana and Grafana are awesome tools for monitoring and visualization. In this post, I'll introduce how to monitor Elasticsearch Cluster by using Grafana with datasource is Prometheus."><link rel=icon type=image/png href=/favicon.png><link rel=apple-touch-icon href=/favicon.png><meta name=msapplication-TileImage content="/favicon.png"><link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,500;0,700;0,800;1,400&display=swap" rel=stylesheet><link href=/vendor/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=/css/style.min.3593336bd12106f4ab3d37ce2fd3db6b.css integrity="md5-NZMza9EhBvSrPTfOL9Pbaw=="><link rel=stylesheet href=/css/spacing_helpers.min.css><link rel=stylesheet href=/css/custom.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-162061519-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a href=/ title="We Are No Dev" rel=home><img src=/favicon.png alt="We Are No Dev" class=header__favicon></a>
<a class=logo__link href=/ title="We Are No Dev" rel=home><div class=logo__title>We Are No Dev</div><div class=logo__tagline>We are NOT ONLY Developers</div></a><img src=/img/outline-banner.png alt="We Are No Dev" class=header__banner_img></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Monitor your Elasitcsearch Cluster with Grafana and Prometheus</h1><div class="post__meta meta"><div class="meta__item meta__item-lang"><i class=meta__icon><img src=/icon/en64.png alt=en width=16px></i>
<span class=meta__text>English</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-09-09T00:00:00Z>Sep 09, 2020</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/elasticsearch-tutorial/ rel=category>Elasticsearch Tutorial</a></span></div></div></header><div class="post__toc toc toc_mobile"><div class=toc__title>Table of contents</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#1-requirements>1. Requirements</a></li><li><a href=#2-grafana-dashboards>2. Grafana Dashboards</a><ul><li><a href=#21-cluster-stats-dashboard>2.1. Cluster Stats Dashboard</a></li><li><a href=#22-node-stats-dashboard>2.2. Node Stats Dashboard</a></li><li><a href=#23-index-stats-dashboard>2.3. Index Stats Dashboard</a></li><li><a href=#24-history-stats-dashboard>2.4. History Stats Dashboard</a></li></ul></li><li><a href=#3-conclusion>3. Conclusion</a></li></ul></nav></div></div><div class="content post__content clearfix"><p><strong>Monitoring Elasticsearch Cluster</strong> is <em>necessary</em> and <em>important</em> for both testing and production. <em>Kibana</em> and <em>Grafana</em> are awesome tools for <em>monitoring</em> and <em>visualization</em>. In this post, I&rsquo;ll introduce how to monitor Elasticsearch Cluster by using <strong>Grafana</strong> with <strong>datasource is Prometheus</strong>.</p><div class="center m-t-20 m-b-20"><img src=/img/post/elasticsearch/monitor-elasticsearch-grafana-prometheus.png alt width=600px decoding=async></div><h2 id=1-requirements>1. Requirements</h2><ul><li><strong><a href=https://grafana.com/>Grafana</a></strong>: awesome tool for visualization.</li><li><strong><a href=https://prometheus.io/>Prometheus</a></strong>: best datasource for Grafana.</li><li><strong><a href=https://github.com/justwatchcom/elasticsearch_exporter>Elasticsearch Exporter</a></strong>: export metrics from Elasticsearch to Prometheus.</li><li><strong>Elasticsearch Cluster</strong>: cluster we want to monitor.</li></ul><p>The following image is the architecture how we setup</p><div class="center m-t-20 m-b-20"><img src=/img/post/elasticsearch/monitor-elasticsearch-grafana-prometheus-architecture.png alt width=500px decoding=async></div><h2 id=2-grafana-dashboards>2. Grafana Dashboards</h2><p>I published my dashboards to <a href=https://grafana.com/grafana/dashboards>Grafana Dashboards</a> so you can easily import these dashboards to your Grafana.</p><ul><li><code>13071</code>: <a href=https://grafana.com/grafana/dashboards/13071>Dashboard for Elasticsearch Cluster Stats</a></li><li><code>13073</code>: <a href=https://grafana.com/grafana/dashboards/13073>Dashboard for Elasticsearch Node Stats</a></li><li><code>13072</code>: <a href=https://grafana.com/grafana/dashboards/13072>Dashboard for Elasticsearch Index Stats</a></li><li><code>13074</code>: <a href=https://grafana.com/grafana/dashboards/13074>Dashboard for Elasticsearch History Stats</a></li></ul><h3 id=21-cluster-stats-dashboard>2.1. Cluster Stats Dashboard</h3><div class="center m-t-20 m-b-20"><img src=https://raw.githubusercontent.com/huynhsamha/grafana-dashboards-elasticsearch/master/screenshots/es-cluster-dashboard.jpg alt="ES Cluster Stats" width decoding=async></div><h3 id=22-node-stats-dashboard>2.2. Node Stats Dashboard</h3><div class="center m-t-20 m-b-20"><img src=https://raw.githubusercontent.com/huynhsamha/grafana-dashboards-elasticsearch/master/screenshots/es-node-stats-dashboard.jpg alt="ES Node Stats" width decoding=async></div><h3 id=23-index-stats-dashboard>2.3. Index Stats Dashboard</h3><div class="center m-t-20 m-b-20"><img src=https://raw.githubusercontent.com/huynhsamha/grafana-dashboards-elasticsearch/master/screenshots/es-index-stats-dashboard.jpg alt="ES Index Stats" width decoding=async></div><h3 id=24-history-stats-dashboard>2.4. History Stats Dashboard</h3><div class="center m-t-20 m-b-20"><img src=https://raw.githubusercontent.com/huynhsamha/grafana-dashboards-elasticsearch/master/screenshots/es-history-stats-dashboard.jpg alt="ES History Stats" width decoding=async></div><h2 id=3-conclusion>3. Conclusion</h2><p>I have shown you how to monitor Elasticsearch Cluster by using Grafana and Prometheus.</p><p>Thanks for reading my article! If you have any feedback or criticism, feel free to leave any comment!</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/elasticsearch/ rel=tag>Elasticsearch</a></li><li class=tags__item><a class="tags__link btn" href=/tags/elasticsearch-monitoring/ rel=tag>Elasticsearch Monitoring</a></li><li class=tags__item><a class="tags__link btn" href=/tags/grafana/ rel=tag>Grafana</a></li><li class=tags__item><a class="tags__link btn" href=/tags/prometheus/ rel=tag>Prometheus</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="Ha. Huynh Sam avatar" src=/img/avatar.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About Ha. Huynh Sam</span></div><div class=authorbox__description>HaHS's true identity is unknown. Maybe he is a successful blogger or writer. Nobody knows it. Do you know him? Let me know that üòâ.</div></div><nav class="post-nav flex"><div class="post-nav__item post-nav__item--prev"><a class=post-nav__link href=/post/tutorial/javascript/advance/vietnamese-search-in-datatables/ rel=prev><span class=post-nav__caption>¬´&#8201;Previous</span><p class=post-nav__post-title>T√¨m ki·∫øm d·ªØ li·ªáu Ti·∫øng Vi·ªát kh√¥ng d·∫•u trong DataTables</p></a></div><div class="post-nav__item post-nav__item--next"><a class=post-nav__link href=/post/tutorial/elasticsearch/discord-da-thiet-lap-elasticsearch-ntn-de-index-hang-ty-messages/ rel=next><span class=post-nav__caption>Next&#8201;¬ª</span><p class=post-nav__post-title>Discord ƒë√£ thi·∫øt l·∫≠p Elasticsearch nh∆∞ th·∫ø n√†o ƒë·ªÉ c√≥ th·ªÉ index h√†ng t·ª∑ messages?</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"wearenodev"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div><aside class=sidebar><div class="post__toc toc toc_sidebar m-t-30 m-b-50"><div class=toc__title>Table of contents</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#1-requirements>1. Requirements</a></li><li><a href=#2-grafana-dashboards>2. Grafana Dashboards</a><ul><li><a href=#21-cluster-stats-dashboard>2.1. Cluster Stats Dashboard</a></li><li><a href=#22-node-stats-dashboard>2.2. Node Stats Dashboard</a></li><li><a href=#23-index-stats-dashboard>2.3. Index Stats Dashboard</a></li><li><a href=#24-history-stats-dashboard>2.4. History Stats Dashboard</a></li></ul></li><li><a href=#3-conclusion>3. Conclusion</a></li></ul></nav></div></div><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/post/tutorial/security/tong-hop-top-10-loi-bao-mat-owasp-2017/>T·ªïng h·ª£p top 10 l·ªói b·∫£o m·∫≠t t·ª´ OWASP b√°o c√°o nƒÉm 2017</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/network/tom-tat-su-khac-biet-giua-cac-version-cua-http-1.0-1.1-2.0/>T√≥m t·∫Øt s·ª± kh√°c bi·ªát gi·ªØa c√°c version c·ªßa HTTP 1.0, 1.1 v√† 2.0</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/elasticsearch/discord-da-thiet-lap-elasticsearch-ntn-de-index-hang-ty-messages/>Discord ƒë√£ thi·∫øt l·∫≠p Elasticsearch nh∆∞ th·∫ø n√†o ƒë·ªÉ c√≥ th·ªÉ index h√†ng t·ª∑ messages?</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/elasticsearch/monitor-your-elasticsearch-cluster-with-grafana-and-prometheus/>Monitor your Elasitcsearch Cluster with Grafana and Prometheus</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/javascript/advance/vietnamese-search-in-datatables/>T√¨m ki·∫øm d·ªØ li·ªáu Ti·∫øng Vi·ªát kh√¥ng d·∫•u trong DataTables</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/javascript/advance/remove-accents-in-vietnamese/>Chuy·ªÉn t·ª´ Ti·∫øng Vi·ªát c√≥ d·∫•u v·ªÅ ch·ªØ c√°i Latin trong JavaScript</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/cloud-tutorial/>Cloud Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/database-tutorial/>Database Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/elasticsearch-tutorial/>Elasticsearch Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/heroku-tutorial/>Heroku Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/java-tutorial/>Java Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/javascript-tutorial/>JavaScript Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/linux-tutorial/>Linux Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/network/>Network</a></li><li class=widget__item><a class=widget__link href=/categories/nodejs-tutorial/>NodeJS Tutorial</a></li><li class=widget__item><a class=widget__link href=/categories/security/>Security</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>Tags</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/adminlte2/ title=AdminLTE2>AdminLTE2 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/aws/ title=AWS>AWS (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/aws-ec2/ title="AWS - EC2">AWS - EC2 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/cloud/ title=Cloud>Cloud (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/database/ title=Database>Database (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/elasticsearch/ title=Elasticsearch>Elasticsearch (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/elasticsearch-monitoring/ title="Elasticsearch Monitoring">Elasticsearch Monitoring (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/google-apis/ title="Google APIs">Google APIs (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/grafana/ title=Grafana>Grafana (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/heroku-deployment/ title="Heroku Deployment">Heroku Deployment (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/http/ title=HTTP>HTTP (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java/ title=Java>Java (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java-basic/ title="Java Basic">Java Basic (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java-thread/ title="Java Thread">Java Thread (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript/ title=JavaScript>JavaScript (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript-advance/ title="JavaScript Advance">JavaScript Advance (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/jsrmvi/ title=jsrmvi>jsrmvi (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/linux/ title=Linux>Linux (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/memcached/ title=Memcached>Memcached (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mongodb/ title=MongoDB>MongoDB (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mongoose/ title=Mongoose>Mongoose (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/network/ title=Network>Network (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nodejs/ title=NodeJS>NodeJS (5)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nodejs-advance/ title="NodeJS Advance">NodeJS Advance (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nodejs-deployment/ title="NodeJS Deployment">NodeJS Deployment (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/npm/ title=NPM>NPM (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/owasp/ title=OWASP>OWASP (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/pgadmin/ title=pgAdmin>pgAdmin (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/postgresql/ title=PostgreSQL>PostgreSQL (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/prometheus/ title=Prometheus>Prometheus (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/robomongo/ title=Robomongo>Robomongo (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/security/ title=Security>Security (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/sequelize/ title=Sequelize>Sequelize (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ubuntu/ title=Ubuntu>Ubuntu (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/vietnamese/ title=Vietnamese>Vietnamese (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/vietnamese-search/ title="Vietnamese Search">Vietnamese Search (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/webpack/ title=Webpack>Webpack (1)</a></div></div><span class="widget-social widget m-b-15"><h4 class="widget-social__title widget__title">Social</h4><div class="widget-social__content widget__content"><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-github" title=GitHub rel="noopener noreferrer" href=https://github.com/WeAreNoDev target=_blank><i class="fa fa-github-square"></i></a></span><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-twitter" title=Twitter rel="noopener noreferrer" href=https://twitter.com/huynhsamha target=_blank><i class="fa fa-twitter-square"></i></a></span><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-email" title=Email href=mailto:huynhsamha@gmail.com><i class="fa fa-envelope-square"></i></a></span><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-linkedin" title=LinkedIn rel="noopener noreferrer" href=https://linkedin.com/in/huynhsamha target=_blank><i class="fa fa-linkedin-square"></i></a></span></div></span></aside></div><footer class=footer><div class="container footer__container"><div class=footer__copyright>WeAreNoDev &copy; 2020<div><span class=footer__copyright-credits>Made with<i class="fa fa-heart m-l-5 m-r-5" style=color:#eb0025></i>by
<a href=https://github.com/huynhsamha target=_blank>Ha. Huynh Sam</a></span></div></div></div></footer></div><span id=scroll-top><i class="fa fa-caret-up"></i></span><script src=/vendor/jquery/3.5.1/jquery.min.js></script><script src=/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js></script><script type=text/javascript src=/js/main.min.f422027a0caaf9eadab59acbeb7e0d9a.js integrity="md5-9CICegyq+eratZrL634Nmg=="></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>