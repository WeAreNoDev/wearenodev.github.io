<!doctype html><html class=no-js lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#ffffff"><title>Memcached lÃ  gÃ¬? CÃ¡ch lÆ°u trá»¯ trong Memcached - We Are No Dev</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content="Understanding Memcached - TÃ¬m hiá»ƒu vá» Memcached, cÃ¡c nguyÃªn táº¯c hoáº¡t Ä‘á»™ng á»Ÿ memcached client, memcached server, cÃ¡c khÃ¡i niá»‡m Consistent Hashing, Slab Allocation, cÃ¡ch hiá»‡n thá»±c LRU vÃ  Hash Table trong memcached server."><meta property="og:title" content="Memcached lÃ  gÃ¬? CÃ¡ch lÆ°u trá»¯ trong Memcached"><meta property="og:description" content="Understanding Memcached - TÃ¬m hiá»ƒu vá» Memcached, cÃ¡c nguyÃªn táº¯c hoáº¡t Ä‘á»™ng á»Ÿ memcached client, memcached server, cÃ¡c khÃ¡i niá»‡m Consistent Hashing, Slab Allocation, cÃ¡ch hiá»‡n thá»±c LRU vÃ  Hash Table trong memcached server."><meta property="og:type" content="article"><meta property="og:url" content="/post/tutorial/database/memcached-la-gi-va-cach-luu-tru-trong-memcached/"><meta property="article:published_time" content="2019-08-08T00:00:00+00:00"><meta property="article:modified_time" content="2019-08-08T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Memcached lÃ  gÃ¬? CÃ¡ch lÆ°u trá»¯ trong Memcached"><meta name=twitter:description content="Understanding Memcached - TÃ¬m hiá»ƒu vá» Memcached, cÃ¡c nguyÃªn táº¯c hoáº¡t Ä‘á»™ng á»Ÿ memcached client, memcached server, cÃ¡c khÃ¡i niá»‡m Consistent Hashing, Slab Allocation, cÃ¡ch hiá»‡n thá»±c LRU vÃ  Hash Table trong memcached server."><link rel=icon type=image/png href=/favicon.png><link rel=apple-touch-icon href=/favicon.png><meta name=msapplication-TileImage content="/favicon.png"><link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,500;0,700;0,800;1,400&display=swap" rel=stylesheet><link href=/vendor/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=/css/style.min.3593336bd12106f4ab3d37ce2fd3db6b.css integrity="md5-NZMza9EhBvSrPTfOL9Pbaw=="><link rel=stylesheet href=/css/spacing_helpers.min.css><link rel=stylesheet href=/css/custom.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-162061519-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a href=/ title="We Are No Dev" rel=home><img src=/favicon.png alt="We Are No Dev" class=header__favicon></a>
<a class=logo__link href=/ title="We Are No Dev" rel=home><div class=logo__title>We Are No Dev</div><div class=logo__tagline>We are NOT ONLY Developers</div></a><img src=/img/outline-banner.png alt="We Are No Dev" class=header__banner_img></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Memcached lÃ  gÃ¬? CÃ¡ch lÆ°u trá»¯ trong Memcached</h1><div class="post__meta meta"><div class="meta__item meta__item-lang"><i class=meta__icon><img src=/icon/vi64.png alt=vi width=16px></i>
<span class=meta__text>Vietnamese</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-08-08T00:00:00Z>Aug 08, 2019</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/database/ rel=category>Database</a></span></div></div></header><div class="post__toc toc toc_mobile"><div class=toc__title>Table of contents</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#overview>Overview</a><ul><li><a href=#features>Features</a></li><li><a href=#design-philosophy>Design Philosophy</a></li></ul></li><li><a href=#detail>Detail</a><ul><li><a href=#memcached-client>Memcached Client</a></li><li><a href=#memcached-server>Memcached Server</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></div><div class="content post__content clearfix"><p><strong>Understanding Memcached</strong> - TÃ¬m hiá»ƒu vá» <strong>Memcached</strong>, cÃ¡c nguyÃªn táº¯c hoáº¡t Ä‘á»™ng á»Ÿ <em>memcached client</em>, <em>memcached server</em>, cÃ¡c khÃ¡i niá»‡m <code>Consistent Hashing</code>, <code>Slab Allocation</code>, cÃ¡ch hiá»‡n thá»±c <em>LRU</em> vÃ  <em>Hash Table</em> trong memcached server.</p><div class="center m-t-20 m-b-20"><img src=/img/background/memcached-bg.jpg alt width=400px decoding=async></div><h2 id=overview>Overview</h2><p><strong>Memcached</strong> lÃ  <strong>há»‡ thá»‘ng caching</strong> <strong><em>dá»¯ liá»‡u phÃ¢n tÃ¡n</em></strong>, lÆ°u trá»¯ trÃªn <strong>memory</strong> dáº¡ng <strong><em>key - value</em></strong>.</p><p>Dá»¯ liá»‡u lÆ°u trá»¯ dáº¡ng key-value vá»›i <code>key</code> lÃ  <code>string</code>, <code>value</code> lÃ  má»™t <code>object</code> (<em>serializable</em>)</p><p><strong>Use-cases</strong>: lÆ°u cÃ¡c API calls, database calls, page rendering, &mldr;</p><h3 id=features>Features</h3><p>Má»™t sá»‘ Ä‘iá»ƒm máº¡nh trong memcached:</p><ul><li>Xá»­ lÃ½ tá»‘t váº¥n Ä‘á» <em>phÃ¢n máº£nh vÃ¹ng nhá»›</em> (<strong>memory fragments</strong>), quáº£n lÃ½ vÃ¹ng nhá»› hiá»‡u quáº£.</li><li>CÃ³ kháº£ nÄƒng <strong>phÃ¢n tÃ¡n Ä‘á»™c láº­p</strong> cÃ¡c <em>memcached server</em>.</li><li>Giao tiáº¿p tá»« 2 phÃ­a client vÃ  server riÃªng biá»‡t.</li></ul><h3 id=design-philosophy>Design Philosophy</h3><p>CÃ¡c nguyÃªn táº¯c trong thiáº¿t káº¿ cá»§a Memcached:</p><ul><li><strong>Key-Value</strong> dáº¡ng Ä‘Æ¡n giáº£n, vá»›i key lÃ  string, value cÃ³ thá»ƒ Ä‘Æ°á»£c serialized</li><li><strong>Half in Client, Half in Server</strong>:<ul><li>client chá»n server Ä‘á»ƒ lÆ°u trá»¯ dá»±a trÃªn key qua hÃ m hash vÃ  danh sÃ¡ch cÃ¡c servers</li><li>server chá»‰ quáº£n lÃ½ cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  quáº£n lÃ½ vÃ¹ng nhá»› cá»§a nÃ³</li></ul></li><li>Servers trong memcached lÃ  <em>disconnected</em>: <em>no crosstalk, no syncronization, no broadcasting, no replication</em></li><li><strong>Forgetting is a Feature</strong>: dÃ¹ng LRU, expiration time. <em>KhÃ´ng dÃ¹ng garbage collector</em> Ä‘áº£m báº£o Ä‘á»™ trá»… tháº¥p, sá»­ dá»¥ng <em>lazy deletion</em>.</li></ul><h2 id=detail>Detail</h2><h3 id=memcached-client>Memcached Client</h3><ul><li>CÃ¡c clients cáº§n cÃ³ cÃ¹ng config vá» list cÃ¡c servers memcached, ká»ƒ cáº£ sá»‘ lÆ°á»£ng vÃ  thá»© tá»± cÃ¡c servers. Vá» cÆ¡ báº£n, má»—i client dá»±a trÃªn giÃ¡ trá»‹ key, sá»­ dá»¥ng hÃ m hash há»£p lÃ½, láº¥y module cho sá»‘ lÆ°á»£ng server Ä‘á»ƒ tÃ¬m index cá»§a server Ä‘áº£m nháº­n key Ä‘Ã³.</li></ul><h4 id=consistent-hashing>Consistent Hashing</h4><p>Memcached client quyáº¿t Ä‘á»‹nh server nÃ o Ä‘Æ°á»£c chá»n cho má»—i giÃ¡ trá»‹ key thÃ´ng qua hÃ m hash, dá»±a trÃªn giÃ¡ trá»‹ mod cho sá»‘ servers hiá»‡n active. Do Ä‘Ã³, khi cÃ³ viá»‡c thÃªm/bá»›t server memcached dáº«n Ä‘áº¿n cÃ¡c giÃ¡ trá»‹ key bá»‹ remapped trá»™i lÃªn, gÃ¢y cache miss, nÃªn cáº§n sá»­ dá»¥ng <strong>Consistent Hashing</strong> Ä‘á»ƒ giáº£m bá»›t viá»‡c shift cÃ¡c servers khi xáº£y ra viá»‡c thÃªm/bá»›t memcached server.</p><p><strong>Consistent Hashing</strong> lÃ  ká»¹ thuáº­t <em>map</em> má»—i key Ä‘áº¿n giÃ¡ trá»‹ <em>khÃ´ng phá»¥ thuá»™c vÃ o sá»‘ lÆ°á»£ng servers</em> biáº¿t trÆ°á»›c, trÃ¡nh sá»­ dá»¥ng phÃ©p module khi kÃ­ch thÆ°á»›c <code>N</code> bá»‹ thay Ä‘á»•i.</p><p>Ká»¹ thuáº­t nÃ y Ä‘Æ°a vÃ¹ng khÃ´ng gian giÃ¡ trá»‹ khÃ³a key lÃªn 1 vÃ²ng trÃ²n, map má»—i giÃ¡ trá»‹ Ä‘áº¿n Ä‘iá»ƒm gáº§n nÃ³ nháº¥t theo hÆ°á»›ng ngÆ°á»£c chiá»u kim Ä‘á»“ng há»“ nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/consistent-hashing.png alt width decoding=async></div><p>NhÆ° hÃ¬nh trÃªn, cÃ¡c giÃ¡ trá»‹ hash cá»§a cÃ¡c khÃ³a Ä‘Æ°á»£c map lÃªn má»™t Ä‘iá»ƒm trÃªn vÃ²ng trÃ²n.</p><p>Trong ngÃ´n ngá»¯ <code>Java</code>, ta sá»­ dá»¥ng thÆ° viá»‡n <a href=https://mvnrepository.com/artifact/net.spy/spymemcached/2.12.0>spymemcached-2.12.0</a> Ä‘á»ƒ thá»±c hiá»‡n connect Ä‘áº¿n Memcached Server. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ Ä‘iá»u mÃ¬nh Ä‘Ã£ tÃ¬m hiá»ƒu vá» thÆ° viá»‡n nÃ y:</p><p>Trong <code>spymemcached-2.12.0</code>, khi khá»Ÿi táº¡o má»™t memcached client (<code>mcc</code>), cho phÃ©p ta config <code>ConnectionFactory</code>, hoáº·c sá»­ dá»¥ng <code>DefaultConnectionFactory</code> cá»§a thÆ° viá»‡n.</p><p>Máº·c Ä‘á»‹nh <code>DefaultConnectionFactory</code> sá»­ dá»¥ng <code>ArrayModNodeLocator</code>, má»™t implementation cá»§a <code>NodeLocator</code> sá»­ dá»¥ng lookup dá»±a trÃªn module cá»§a hash code trÃªn length cá»§a list server.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/mcc_01.png alt width decoding=async></div><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/mcc_02.png alt width decoding=async></div><p>NgoÃ i ra, <code>spymemcached-2.12.0</code> cÅ©ng há»— trá»£ <code>KetamaConnectionFactory</code>, hiá»‡n thá»±c tá»« <code>DefaultConnectionFactory</code> sá»­ dá»¥ng <code>KetamaNodeLocator</code> vÃ  <em>hÃ m hash Ketama</em> cho Consistent Hashing.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/mcc_03.png alt width decoding=async></div><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/mcc_04.png alt width decoding=async></div><h4 id=failover>Failover</h4><p>Váº¥n Ä‘á» failover khi xáº£y ra <strong>crash server</strong>, client sáº½ loop next trÃªn server list Ä‘áº¿n khi tÃ¬m tháº¥y server nÃ o cÃ²n active vÃ  map key hiá»‡n táº¡i cho server nÃ y.</p><h4 id=compression>Compression</h4><p>Memcached client há»— trá»£ cho phÃ©p enable hoáº·c disable compression dá»±a trÃªn <strong>threshold cho item size</strong>.</p><h3 id=memcached-server>Memcached Server</h3><ul><li><strong>Multiple Instances</strong>: Memcached lÃ  má»™t <em>distributed servers</em>, do Ä‘Ã³ cÃ³ thá»ƒ start nhiá»u instance trÃªn cÃ¹ng 1 host hoáº·c nhiá»u host.</li><li>Networking: há»— trá»£ TCP vÃ  UDP</li><li>Connection limit vÃ  Threading.</li></ul><h4 id=slab-allocation>Slab Allocation</h4><p>Memcached server quáº£n lÃ½ memory sá»­ dá»¥ng <code>slab allocator</code> <strong>trÃ¡nh phÃ¢n máº£nh vÃ¹ng nhá»›</strong>. Triáº¿t lÃ½ cá»§a ká»¹ thuáº­t nÃ y lÃ  phÃ¢n Ä‘oáº¡n cÃ¡c vÃ¹ng nhá»› Ä‘Ã£ cáº¥p phÃ¡t thÃ nh cÃ¡c <code>chunks</code> vá»›i <em>size</em> Ä‘Æ°á»£c Ä‘á»‹nh ra trÆ°á»›c Ä‘Ã³.</p><p>VÃ­ dá»¥ khi start memcached instance, vá»›i option <code>-vv</code>, ta sáº½ tháº¥y Ä‘Æ°á»£c cÃ¡c slab class Ä‘Æ°á»£c memcached phÃ¢n Ä‘oáº¡n nhÆ° sau:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>memcached -p <span style=color:#ae81ff>11112</span> -vv
slab class   1: chunk size        <span style=color:#ae81ff>96</span> perslab   <span style=color:#ae81ff>10922</span>
slab class   2: chunk size       <span style=color:#ae81ff>120</span> perslab    <span style=color:#ae81ff>8738</span>
slab class   3: chunk size       <span style=color:#ae81ff>152</span> perslab    <span style=color:#ae81ff>6898</span>
slab class   4: chunk size       <span style=color:#ae81ff>192</span> perslab    <span style=color:#ae81ff>5461</span>
slab class   5: chunk size       <span style=color:#ae81ff>240</span> perslab    <span style=color:#ae81ff>4369</span>
slab class   6: chunk size       <span style=color:#ae81ff>304</span> perslab    <span style=color:#ae81ff>3449</span>
slab class   7: chunk size       <span style=color:#ae81ff>384</span> perslab    <span style=color:#ae81ff>2730</span>
slab class   8: chunk size       <span style=color:#ae81ff>480</span> perslab    <span style=color:#ae81ff>2184</span>
slab class   9: chunk size       <span style=color:#ae81ff>600</span> perslab    <span style=color:#ae81ff>1747</span>
slab class  10: chunk size       <span style=color:#ae81ff>752</span> perslab    <span style=color:#ae81ff>1394</span>
slab class  11: chunk size       <span style=color:#ae81ff>944</span> perslab    <span style=color:#ae81ff>1110</span>
slab class  12: chunk size      <span style=color:#ae81ff>1184</span> perslab     <span style=color:#ae81ff>885</span>
slab class  13: chunk size      <span style=color:#ae81ff>1480</span> perslab     <span style=color:#ae81ff>708</span>
slab class  14: chunk size      <span style=color:#ae81ff>1856</span> perslab     <span style=color:#ae81ff>564</span>
slab class  15: chunk size      <span style=color:#ae81ff>2320</span> perslab     <span style=color:#ae81ff>451</span>
slab class  16: chunk size      <span style=color:#ae81ff>2904</span> perslab     <span style=color:#ae81ff>361</span>
slab class  17: chunk size      <span style=color:#ae81ff>3632</span> perslab     <span style=color:#ae81ff>288</span>
slab class  18: chunk size      <span style=color:#ae81ff>4544</span> perslab     <span style=color:#ae81ff>230</span>
slab class  19: chunk size      <span style=color:#ae81ff>5680</span> perslab     <span style=color:#ae81ff>184</span>
slab class  20: chunk size      <span style=color:#ae81ff>7104</span> perslab     <span style=color:#ae81ff>147</span>
slab class  21: chunk size      <span style=color:#ae81ff>8880</span> perslab     <span style=color:#ae81ff>118</span>
slab class  22: chunk size     <span style=color:#ae81ff>11104</span> perslab      <span style=color:#ae81ff>94</span>
slab class  23: chunk size     <span style=color:#ae81ff>13880</span> perslab      <span style=color:#ae81ff>75</span>
slab class  24: chunk size     <span style=color:#ae81ff>17352</span> perslab      <span style=color:#ae81ff>60</span>
slab class  25: chunk size     <span style=color:#ae81ff>21696</span> perslab      <span style=color:#ae81ff>48</span>
slab class  26: chunk size     <span style=color:#ae81ff>27120</span> perslab      <span style=color:#ae81ff>38</span>
slab class  27: chunk size     <span style=color:#ae81ff>33904</span> perslab      <span style=color:#ae81ff>30</span>
slab class  28: chunk size     <span style=color:#ae81ff>42384</span> perslab      <span style=color:#ae81ff>24</span>
slab class  29: chunk size     <span style=color:#ae81ff>52984</span> perslab      <span style=color:#ae81ff>19</span>
slab class  30: chunk size     <span style=color:#ae81ff>66232</span> perslab      <span style=color:#ae81ff>15</span>
slab class  31: chunk size     <span style=color:#ae81ff>82792</span> perslab      <span style=color:#ae81ff>12</span>
slab class  32: chunk size    <span style=color:#ae81ff>103496</span> perslab      <span style=color:#ae81ff>10</span>
slab class  33: chunk size    <span style=color:#ae81ff>129376</span> perslab       <span style=color:#ae81ff>8</span>
slab class  34: chunk size    <span style=color:#ae81ff>161720</span> perslab       <span style=color:#ae81ff>6</span>
slab class  35: chunk size    <span style=color:#ae81ff>202152</span> perslab       <span style=color:#ae81ff>5</span>
slab class  36: chunk size    <span style=color:#ae81ff>252696</span> perslab       <span style=color:#ae81ff>4</span>
slab class  37: chunk size    <span style=color:#ae81ff>315872</span> perslab       <span style=color:#ae81ff>3</span>
slab class  38: chunk size    <span style=color:#ae81ff>394840</span> perslab       <span style=color:#ae81ff>2</span>
slab class  39: chunk size    <span style=color:#ae81ff>524288</span> perslab       <span style=color:#ae81ff>2</span>
</code></pre></div><p>Khi start memcached, cÃ³ <code>39 slab class</code> Ä‘Æ°á»£c táº¡o, vá»›i kÃ­ch thÆ°á»›c <code>chunk size</code> á»Ÿ má»—i slab class <em>tÄƒng dáº§n</em>, chunk size cÃ ng lá»›n, sá»‘ <code>slot</code> trong slab class cÃ ng giáº£m. Má»™t <code>Slab class</code> lÃ  <em>group cá»§a cÃ¡c chunks</em> cÃ³ cÃ¹ng chunk size, má»—i <code>chunk</code> Ä‘Æ°á»£c gá»i lÃ  <code>slot</code>, lÃ  <em>Ä‘Æ¡n vá»‹ nhá» nháº¥t Ä‘á»ƒ lÆ°u data</em>.</p><p><strong>Growth Factor</strong> lÃ  há»‡ sá»‘ nhÃ¢n cho kÃ­ch thÆ°á»›c cÃ¡c slab class káº¿ tiáº¿p, trong instance memcached Ä‘Æ°á»£c start nhÆ° trÃªn thÃ¬ Growth Factor lÃ  <code>1.25</code>: (<code>120/96 = 1.25 | 152/120 ~ 1.25 | 192/152 ~ 1.25 | 240/192 = 1.25 | bla bla</code>)</p><p>ÄÃ¢y lÃ  nhá»¯ng config máº·c Ä‘á»‹nh cá»§a memcached vá» slab class:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/settings_01.png alt width=700 decoding=async></div><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/settings_02.png alt width=700 decoding=async></div><p>Máº·c Ä‘á»‹nh <code>growth factor</code> lÃ  <strong>1.25</strong>, 1 slab class cÃ³ size lÃ  <code>1MB</code> (<code>slab_page_size</code>), tá»« chunk size sau khi nhÃ¢n growth factor, dá»±a trÃªn slab class size, cáº¥p phÃ¡t sá»‘ chunks trong slab class Ä‘Ã³. VÃ  1 slab class yÃªu cáº§u tá»‘i thiá»ƒu <code>2</code> chunks.</p><p>CÃ³ thá»ƒ mÃ´ táº£ cÃ¡c slab class nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/slab_arch.png alt width=400 decoding=async></div><p>Khi nháº­n Ä‘Æ°á»£c má»™t record, memcached sáº½ chá»n ra má»™t <strong>slab class fit vá»›i size</strong> cá»§a record nÃ y, sau Ä‘Ã³ tÃ¬m trong cÃ¡c slots trá»‘ng Ä‘á»ƒ sá»­ dá»¥ng slot Ä‘Ã³ cho record, náº¿u data nÃ o bá»‹ expired hoáº·c deleted, slot Ä‘Ã³ Ä‘Æ°á»£c nháº£ láº¡i <em>idle slots</em>.</p><p>==> memcached quáº£n lÃ½ vÃ¹ng nhá»› hiá»‡u quáº£, linh Ä‘á»™ng, khÃ´ng gÃ¢y memory fragments.</p><p>==> nhÆ°á»£c Ä‘iá»ƒm gÃ¢y dÆ° thá»«a vÃ¹ng nhá»› khÃ´ng dÃ¹ng trong má»—i chunk Ä‘Æ°á»£c dÃ¹ng.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/space_waste.png alt width decoding=async></div><h5 id=item-in-memcached>Item in Memcached</h5><p>Trong memcached, má»—i records key-value Ä‘Æ°á»£c lÆ°u trá»¯ thÃ nh 1 <code>item</code> nhÆ° sau:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/item_structure.png alt width=700 decoding=async></div><p>Má»—i item Ä‘Æ°á»£c lÆ°u trá»¯ dáº¡ng con trá», lÆ°u trá»¯ con trá» tiáº¿p theo trong chuá»—i <code>hash chain</code> (chain lÆ°u trá»¯ cÃ¡c item cÃ³ cÃ¹ng hash value, xá»­ lÃ½ collision trong hash table).</p><p>NgoÃ i cÃ¡c thÃ´ng tin vá» key, value, cÃ²n cÃ³ thÃ´ng tin time (expired, access), &mldr;</p><p>Má»—i item khi Ä‘Æ°á»£c lÆ°u vÃ o trong chunk cá»§a slab class, Ä‘Æ°á»£c record thÃ nh <code>item_chunk</code> vÃ  size cá»§a item Ä‘Æ°á»£c gá»i lÃ  <code>header</code> vÃ  Ä‘Æ°á»£c tÃ­nh trÆ°á»›c khi tÃ¬m ra slab class tÆ°Æ¡ng á»©ng:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/item_chunk_structure.png alt width=700 decoding=async></div><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/header_item_size.png alt width=700 decoding=async></div><h5 id=slab-class-structure>Slab Class Structure</h5><p>ÄÃ¢y lÃ  slab class structure trong memcached</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/slab_001.png alt width=700 decoding=async></div><p>Má»—i slabclass gá»“m chunk size, sá»‘ slab, list cÃ¡c slots, &mldr;</p><h4 id=lru-cache-vs-hash-table>LRU Cache vs Hash Table</h4><h5 id=implementation>Implementation</h5><p>Má»—i slab class cÃ³ má»™t doubly linked list riÃªng Ä‘á»ƒ hiá»‡n thá»±c LRU. NgoÃ i <code>head</code>, <code>tail</code>, cÃ²n cÃ¡c giÃ¡ trá»‹ <code>stats</code> vá» <code>sizes</code>, storage size (<code>sizes_bytes</code>)</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/slab_class_lru.png alt width=400 decoding=async></div><p>Memcached sá»­ dá»¥ng má»™t main hash table Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c item. Khi lÆ°á»£ng item vÆ°á»£t quÃ¡ 3/2 sá»‘ bucket trong main hash table, memcached sáº½ expand hash table.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/hash_table.png alt width=700 decoding=async></div><p>Khi thá»±c hiá»‡n expand, má»™t maintaner thread start Ä‘á»ƒ chia láº¡i cÃ¡c entry trong hash table. Memcached Ä‘á»“ng thá»i lÆ°u trá»¯ 2 báº£ng bÄƒm cho cÃ¡c quÃ¡ trÃ¬nh update hash table.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/expanding.png alt width=500 decoding=async></div><p>Trong quÃ¡ trÃ¬nh tÃ¬m kiáº¿m, dá»±a trÃªn giÃ¡ trá»‹ key vÃ  giÃ¡ trá»‹ hash cá»§a item header, tÃ¬m Ä‘áº¿n con trá» Ä‘áº§u tiÃªn trÃªn báº£ng bÄƒm vÃ  thá»±c hiá»‡n duyá»‡t linked list Ä‘á»ƒ tÃ¬m ra item:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/search_item_in_hashtable.png alt width=700 decoding=async></div><p>Do má»—i item trong memcached Ä‘Æ°á»£c lÆ°u trá»¯ dáº¡ng pointer trÃªn cáº£ hash table láº«n linked list, do Ä‘Ã³ cÃ¡c thao tÃ¡c update láº¡i linkedlist khi thÃªm pháº§n tá»­ má»›i, xÃ³a 1 pháº§n tá»­ vÃ  update láº¡i LRU state Ä‘á»u chá»‰ tá»‘n time <code>O(1)</code> - Dá»±a trÃªn hash table, Ä‘á»ƒ tÃ¬m ra chuá»—i hash collision cá»§a item Ä‘Ã³, tÃ¬m item trÃªn chain nÃ y Ä‘Æ°á»£c 1 pointer nÃªn dá»… dÃ ng update láº¡i linkedlist trong O(1).</p><p>Do Ä‘Ã³ Ä‘á»™ phá»©c táº¡p thá»±c cháº¥t xáº£y ra khi cÃ³ collision trÃªn hash table. Tuy nhiÃªn Memcached cáº£i thiá»‡n Ä‘iá»u nÃ y báº±ng viá»‡c expand báº£ng bÄƒm khi lÆ°á»£ng items vÆ°á»£t quÃ¡ 3/2 sá»‘ bucket trÃªn hash table nháº±m giáº£m viá»‡c Ä‘á»¥ng Ä‘á»™ cÃ¡c giÃ¡ trá»‹ hash.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/hash_lru.png alt width=500 decoding=async></div><p>NgoÃ i viá»‡c sá»­ dá»¥ng expanding hash table, memcached cÃ²n thÃªm 1 trick nhá» trong quÃ¡ trÃ¬nh update láº¡i LRU khi 1 lÆ°á»£ng items thÆ°á»ng xuyÃªn Ä‘Æ°á»£c accessed liÃªn tá»¥c, trÃ¡nh update láº¡i top cÃ¡c items Ä‘áº§u trong linkedlist. Má»—i item Ä‘á»u Ä‘Æ°á»£c lÆ°u trá»¯ time accessed gáº§n nháº¥t, tuy nhiÃªn giÃ¡ trá»‹ nÃ y chá»‰ Ä‘Æ°á»£c update sau 1 interval time mÃ  memcached Ä‘á»‹nh ra (<code>60s</code>), do Ä‘Ã³ chá»‰ sau 1 khoáº£ng thá»i gian Ä‘á»§ lÃ¢u thÃ¬ item nÃ y má»›i thá»±c sá»± update láº¡i tráº¡ng thÃ¡i accessed:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/item_update_interval.png alt width=700 decoding=async></div><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/do_item_update.png alt width=700 decoding=async></div><h5 id=compare-with-lru-in-kyoto-cabinet>Compare with LRU in Kyoto Cabinet</h5><p>So sÃ¡nh vá»›i Kyoto Cabinet khi hiá»‡n thá»±c LRU, Kyoto Cabinet lÆ°u trá»¯ hash table láº«n doubly linked list Ä‘á»u dÃ¹ng cÃ¡c thÆ° viá»‡n cá»§a C++ (<code>vector</code>, <code>unorderd_map</code>), Ä‘á»“ng thá»i khÃ´ng sá»­ dá»¥ng pointer Ä‘á»ƒ lÆ°u cÃ¡c record, nÃªn cÃ³ thá»i gian kÃ©m hÆ¡n so vá»›i memcached, tá»‘n <code>O(N)</code> cho cÃ¡c tÃ¡c vá»¥ update láº¡i LRU (do cáº§n duyá»‡t trÃªn linkedlist Ä‘á»ƒ tÃ¬m ra record tÆ°Æ¡ng á»©ng, trong khi memcached lÃ  pointer).</p><h5 id=segmented-lru-sub-lru>Segmented LRU (sub-LRU)</h5><p>Memcached chia LRU thÃ nh 4 táº§ng (gá»i lÃ  sub-LRU) { HOT, WARM, COLD, TEMP }, thá»±c hiá»‡n delay viá»‡c update láº¡i item khi item Ä‘Æ°á»£c read. Má»—i sub cÃ³ mutex lock riÃªng.</p><p>Má»—i item trong memcached cÃ³ 2 bit thá»ƒ hiá»‡n má»©c Ä‘á»™ active cá»§a nÃ³:</p><ul><li>FETCHED: náº¿u item Ä‘Æ°á»£c request 1 láº§n</li><li>ACTIVE: náº¿u item Ä‘Æ°á»£c accessed láº§n thá»© 2.</li></ul><p>CÃ¡c tráº¡ng thÃ¡i cá»§a item:</p><div class="row-flex around around"><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/sub_lru-states.png alt width decoding=async></div><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/settings_03.png alt width decoding=async></div></div><p><strong>Descriptions</strong>:</p><table><thead><tr><th><strong>Field</strong></th><th><strong>Comments</strong></th></tr></thead><tbody><tr><td><strong>lru_crawler_sleep</strong></td><td>Microsecond sleep between items</td></tr><tr><td><strong>lru_crawler_tocrawl</strong></td><td>Number of items to crawl per run</td></tr><tr><td><strong>crawls_persleep</strong></td><td>Number of LRU crawls to run before sleeping</td></tr><tr><td><strong>hot_lru_pct</strong></td><td>percentage of slab space for HOT_LRU</td></tr><tr><td><strong>warm_lru_pct</strong></td><td>percentage of slab space for WARM_LRU</td></tr><tr><td><strong>hot_max_factor</strong></td><td>HOT tail age relative to COLD tail</td></tr><tr><td><strong>warm_max_factor</strong></td><td>WARM tail age relative to COLD tail</td></tr><tr><td><strong>temp_lru</strong></td><td>TTL &lt; temporary_ttl uses TEMP_LRU</td></tr><tr><td><strong>temporary_ttl</strong></td><td>temporary LRU threshold</td></tr></tbody></table><p><strong>HOT</strong>: náº¿u item tá»›i threshold cá»§a HOT, sáº½ bá»‹ moved sang WARM (<code>3</code>) hoáº·c COLD (<code>5</code>) tÃ¹y theo Ä‘ang <em>ACTIVE</em> hay khÃ´ng.</p><p><strong>WARM</strong>: chá»‰ nhá»¯ng items Ä‘Æ°á»£c accessed tá»‘i thiá»ƒu 2 láº§n má»›i cÃ³ cÆ¡ há»™i náº±m trong WARM. náº¿u item tá»›i threshold cá»§a WARM sáº½ Ä‘Æ°á»£c moved lÃªn head cá»§a WARM (<code>4</code>) náº¿u Ä‘ang <em>ACTIVE</em>, ngÆ°á»£c láº¡i bá»‹ Ä‘áº©y xuá»‘ng COLD (<code>7</code>)</p><p><strong>COLD</strong>: chá»©a cÃ¡c inative items, theo Ä‘Æ°á»ng <code>5</code> vá»›i <code>7</code> tá»« HOT vÃ  WARM. Khi 1 item Ä‘Æ°á»£c active, nÃ³ sáº½ Ä‘Æ°á»£c moved lÃªn WARM (<code>6</code>)</p><p><strong>TEMP</strong>: chá»©a cÃ¡c item cÃ³ TTL cá»±c ngáº¯n.</p><p>Trong khi alloc cho item, viá»‡c lá»±a chá»n 1 sub-LRU dá»±a trÃªn thá»i gian TTL cá»§a item Ä‘Ã³ cÃ³ Ä‘á»§ lÃ¢u Ä‘á»ƒ Ä‘Æ°a vÃ o HOT khÃ´ng:</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/alloc_sub_lru.png alt width decoding=async></div><h5 id=lru-threads-in-segmented-lru>LRU Threads in segmented LRU</h5><p>Memcached sá»­ dá»¥ng 2 threads Ä‘á»ƒ duy trÃ¬ tráº¡ng thÃ¡i LRU cá»§a cÃ¡c items, 1 lÃ  <code>lru maintainer</code> vÃ  1 thread <code>lru cralwer</code></p><p><code>lru maintainer</code> thá»±c hiá»‡n sáº¯p xáº¿p cÃ¡c items giá»¯a cÃ¡c sub-lru (hot|warn|cold|temp)</p><p><code>lru cralwer</code> thá»±c hiá»‡n Ä‘Ã o tháº£i cÃ¡c item expired hoáº·c invalid. Default thread nÃ y Ä‘Æ°á»£c start in background.</p><h6 id=lru-maintainer-thread>LRU Maintainer Thread</h6><p>Jobs:</p><ul><li>duyá»‡t cÃ¡c sub-LRU, check cÃ¡c tail items</li><li>Ä‘áº£m báº£o cÃ¡c sub-LRU work, thá»±c hiá»‡n moved cÃ¡c items</li><li>reclaim cÃ¡c expired <em>tail</em> items</li></ul><h6 id=lru-crawler-thread>LRU Crawler Thread</h6><p>Giáº£i quyáº¿t cÃ¡c items bá»‹ expired nhÆ°ng ko Ä‘Æ°á»£c accessed Ä‘á»ƒ evict. Cháº¡y async Ä‘á»ƒ reclaim <em>táº¥t cáº£</em> expired items.</p><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/lru_crawler.png alt width decoding=async></div><h4 id=external-storage>External Storage</h4><p>External Storage (<code>extstore</code>) lÃ  má»™t má»Ÿ rá»™ng cho memcached, hash table vÃ  cÃ¡c keys Ä‘Æ°á»£c lÆ°u trÃªn memory, trong khi values Ä‘Æ°á»£c lÆ°u trong bá»™ nhá»› bÃªn ngoÃ i.</p><p><strong>When to use this?</strong></p><blockquote><p>If you only have one or two memcached instances, you probably don&rsquo;t need this.</p></blockquote><p>Khi values Ä‘Æ°á»£c lÆ°u trá»¯ cÃ³ kÃ­ch thÆ°á»›c lá»›n vÃ  TTL Ä‘á»§ lá»›n, nÃªn sá»­ dá»¥ng extstore Ä‘á»ƒ tiáº¿t kiá»‡m RAM trÃªn cloud.</p><h5 id=implementation-1>Implementation</h5><p>So vá»›i khi khÃ´ng sá»­ dá»¥ng external storage, extstore sá»­ dá»¥ng 2 thread <code>storage</code> vÃ  <code>compactation</code>. Vá» chá»©c nÄƒng:</p><ul><li><code>storage thread</code> tÆ°Æ¡ng tá»± <code>lru maintainer</code>, thá»±c hiá»‡n check cÃ¡c tail items trÃªn cÃ¡c slab class.</li><li><code>compactation thread</code> &mldr;</li></ul><p>CÃ¡ch 1 tail item Ä‘Æ°á»£c Ä‘Æ°a vÃ o extstore:</p><ul><li>alloc new small item</li><li>lÆ°u trá»¯ cÃ¡c meta cá»§a item khi Ä‘c Ä‘Æ°a ra extstore, gá»“m <code>page_version</code>, <code>offset</code> vÃ  <code>page_id</code></li><li>Thay tháº¿ value cá»§a item thÃ nh thÃ´ng tin item trÃªn hardware (<code>item_hdr</code>)</li></ul><div class="center m-t-20 m-b-20"><img src=/img/post/memcached/extstore_meta.png alt width decoding=async></div><p>Má»™t sá»‘ thÃ´ng sá»‘ quyáº¿t Ä‘á»‹nh item cÃ³ Ä‘Æ°á»£c Ä‘Æ°a ra external storage hay khÃ´ng: item Ä‘á»§ lá»›n, item exist lÃ¢u, item sá»‘ng lÃ¢u:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>int</span> ext_item_size;  <span style=color:#75715e>/* minimum size of items to store externally */</span>
<span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>int</span> ext_item_age;   <span style=color:#75715e>/* max age of tail item before storing ext. */</span>
<span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>int</span> ext_low_ttl;    <span style=color:#75715e>/* remaining TTL below this uses own pages */</span>
</code></pre></div><p>CÃ¡c giÃ¡ trá»‹ default máº·c Ä‘á»‹nh:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp>settings.ext_item_size  <span style=color:#f92672>=</span> <span style=color:#ae81ff>512</span>;
settings.ext_item_age   <span style=color:#f92672>=</span> UINT_MAX; <span style=color:#75715e>// Maximum value an `unsigned int&#39; can hold
</span><span style=color:#75715e></span>settings.ext_low_ttl    <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</code></pre></div><p>Äá»ƒ Ä‘Æ°a item ra external storage, cáº§n item tá»‘i thiá»ƒu 512 bytes, Ä‘á»“ng thá»i cáº§n set <code>ext_item_age</code> Ä‘á»§ nhá» (chá» cho age cá»§a item Ä‘á»§ lá»›n sáº½ Ä‘Æ°á»£c flush ra ngoÃ i storage).</p><p>CÃ³ thá»ƒ start memcached instance nhÆ° sau:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>memcached -p <span style=color:#ae81ff>11111</span> -o ext_item_age<span style=color:#f92672>=</span>1,ext_path<span style=color:#f92672>=</span>/home/abc/datafile:1G -vv
</code></pre></div><h2 id=references>References</h2><ul><li><a href=https://github.com/memcached/memcached/wiki>Memcached Wiki</a></li><li><a href=https://holmeshe.me/categories/Memcached-Source-Code/>Understanding The Memcached Source Code</a></li><li><a href=https://www.toptal.com/big-data/consistent-hashing>Consistent Hashing in Distributed Caches</a></li><li><a href=https://medium.com/@Alibaba_Cloud/redis-vs-memcached-in-memory-data-storage-systems-3395279b0941>Redis vs Memcached</a></li><li><a href=https://mahmudahsan.files.wordpress.com/2009/02/mysql_wp_memcached.pdf>Memcached vs MySQL</a></li><li><a href=https://memcached.org/blog/modern-lru/>Modern LRU in Memcached</a></li><li><a href=https://github.com/memcached/memcached/wiki/Extstore>External Storage in Memcached</a></li></ul></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/memcached/ rel=tag>Memcached</a></li><li class=tags__item><a class="tags__link btn" href=/tags/database/ rel=tag>Database</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="Ha. Huynh Sam avatar" src=/img/avatar.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name></span></div><div class=authorbox__description>HaHS's true identity is unknown. Maybe he is a successful blogger or writer. Nobody knows it. Do you know him? Let me know that ğŸ˜‰.</div></div><nav class="post-nav flex"><div class="post-nav__item post-nav__item--prev"><a class=post-nav__link href=/post/tutorial/cloud/launch-amazon-ec2-instance-with-aws-free-tier-ubuntu-server-18/ rel=prev><span class=post-nav__caption>Â«&#8201;Previous</span><p class=post-nav__post-title>Launch Amazon EC2 Instance with AWS Free Tier - Ubuntu Server 18.04 LTS</p></a></div><div class="post-nav__item post-nav__item--next"><a class=post-nav__link href=/post/tutorial/java/basic/thread/singlethreaded-server-trong-java/ rel=next><span class=post-nav__caption>Next&#8201;Â»</span><p class=post-nav__post-title>Singlethreaded Server trong Java</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"wearenodev"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div><aside class=sidebar><div class="post__toc toc toc_sidebar m-t-30 m-b-50"><div class=toc__title>Table of contents</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#overview>Overview</a><ul><li><a href=#features>Features</a></li><li><a href=#design-philosophy>Design Philosophy</a></li></ul></li><li><a href=#detail>Detail</a><ul><li><a href=#memcached-client>Memcached Client</a></li><li><a href=#memcached-server>Memcached Server</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></div><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/post/tutorial/database/build-thrift-service-on-top-of-rocksdb/>Build Thrift Service on top of RocksDB</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/security/tong-hop-top-10-loi-bao-mat-owasp-2017/>Tá»•ng há»£p top 10 lá»—i báº£o máº­t tá»« OWASP bÃ¡o cÃ¡o nÄƒm 2017</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/network/tom-tat-su-khac-biet-giua-cac-version-cua-http-1.0-1.1-2.0/>TÃ³m táº¯t sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c version cá»§a HTTP 1.0, 1.1 vÃ  2.0</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/elasticsearch/discord-da-thiet-lap-elasticsearch-ntn-de-index-hang-ty-messages/>Discord Ä‘Ã£ thiáº¿t láº­p Elasticsearch nhÆ° tháº¿ nÃ o Ä‘á»ƒ cÃ³ thá»ƒ index hÃ ng tá»· messages?</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/elasticsearch/monitor-your-elasticsearch-cluster-with-grafana-and-prometheus/>Monitor your Elasitcsearch Cluster with Grafana and Prometheus</a></li><li class=widget__item><a class=widget__link href=/post/tutorial/javascript/advance/vietnamese-search-in-datatables/>TÃ¬m kiáº¿m dá»¯ liá»‡u Tiáº¿ng Viá»‡t khÃ´ng dáº¥u trong DataTables</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/cloud/>Cloud</a></li><li class=widget__item><a class=widget__link href=/categories/database/>Database</a></li><li class=widget__item><a class=widget__link href=/categories/elasticsearch/>Elasticsearch</a></li><li class=widget__item><a class=widget__link href=/categories/heroku/>Heroku</a></li><li class=widget__item><a class=widget__link href=/categories/java/>Java</a></li><li class=widget__item><a class=widget__link href=/categories/javascript/>JavaScript</a></li><li class=widget__item><a class=widget__link href=/categories/linux/>Linux</a></li><li class=widget__item><a class=widget__link href=/categories/network/>Network</a></li><li class=widget__item><a class=widget__link href=/categories/nodejs/>NodeJS</a></li><li class=widget__item><a class=widget__link href=/categories/security/>Security</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>Tags</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/adminlte2/ title=AdminLTE2>AdminLTE2 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/aws/ title=AWS>AWS (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/aws-ec2/ title="AWS - EC2">AWS - EC2 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/cloud/ title=Cloud>Cloud (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/database/ title=Database>Database (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/elasticsearch/ title=Elasticsearch>Elasticsearch (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/elasticsearch-monitoring/ title="Elasticsearch Monitoring">Elasticsearch Monitoring (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/google-apis/ title="Google APIs">Google APIs (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/grafana/ title=Grafana>Grafana (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/heroku-deployment/ title="Heroku Deployment">Heroku Deployment (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/http/ title=HTTP>HTTP (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java/ title=Java>Java (4)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java-basic/ title="Java Basic">Java Basic (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java-thread/ title="Java Thread">Java Thread (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript/ title=JavaScript>JavaScript (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript-advance/ title="JavaScript Advance">JavaScript Advance (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/jsrmvi/ title=jsrmvi>jsrmvi (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/linux/ title=Linux>Linux (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/memcached/ title=Memcached>Memcached (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mongodb/ title=MongoDB>MongoDB (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mongoose/ title=Mongoose>Mongoose (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/network/ title=Network>Network (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nodejs/ title=NodeJS>NodeJS (5)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nodejs-advance/ title="NodeJS Advance">NodeJS Advance (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nodejs-deployment/ title="NodeJS Deployment">NodeJS Deployment (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/npm/ title=NPM>NPM (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/owasp/ title=OWASP>OWASP (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/pgadmin/ title=pgAdmin>pgAdmin (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/postgresql/ title=PostgreSQL>PostgreSQL (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/prometheus/ title=Prometheus>Prometheus (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/robomongo/ title=Robomongo>Robomongo (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/rocksdb/ title=RocksDB>RocksDB (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/security/ title=Security>Security (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/sequelize/ title=Sequelize>Sequelize (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/thrift/ title=Thrift>Thrift (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ubuntu/ title=Ubuntu>Ubuntu (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/vietnamese/ title=Vietnamese>Vietnamese (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/vietnamese-search/ title="Vietnamese Search">Vietnamese Search (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/webpack/ title=Webpack>Webpack (1)</a></div></div><span class="widget-social widget m-b-15"><h4 class="widget-social__title widget__title">Social</h4><div class="widget-social__content widget__content"><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-github" title=GitHub rel="noopener noreferrer" href=https://github.com/WeAreNoDev target=_blank><i class="fa fa-github-square"></i></a></span><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-twitter" title=Twitter rel="noopener noreferrer" href=https://twitter.com/huynhsamha target=_blank><i class="fa fa-twitter-square"></i></a></span><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-email" title=Email href=mailto:huynhsamha@gmail.com><i class="fa fa-envelope-square"></i></a></span><span class="widget-social__item widget__item"><a class="widget-social__link widget__link btn btn-social-linkedin" title=LinkedIn rel="noopener noreferrer" href=https://linkedin.com/in/huynhsamha target=_blank><i class="fa fa-linkedin-square"></i></a></span></div></span></aside></div><footer class=footer><div class="container footer__container"><div class=footer__copyright>WeAreNoDev &copy; 2020<div><span class=footer__copyright-credits>Made with<i class="fa fa-heart m-l-5 m-r-5" style=color:#eb0025></i>by
<a href=https://github.com/huynhsamha target=_blank>Ha. Huynh Sam</a></span></div></div></div></footer></div><span id=scroll-top><i class="fa fa-caret-up"></i></span><script src=/vendor/jquery/3.5.1/jquery.min.js></script><script src=/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js></script><script type=text/javascript src=/js/main.min.f422027a0caaf9eadab59acbeb7e0d9a.js integrity="md5-9CICegyq+eratZrL634Nmg=="></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>